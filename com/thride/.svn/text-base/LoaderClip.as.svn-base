package com.thride{		import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.MouseEvent;		import flash.events.Event;		import flash.text.TextField;	import flash.text.TextFieldAutoSize;		import flash.net.URLRequest;	import flash.net.navigateToURL;		import flash.geom.Rectangle;		import gs.TweenLite;	import gs.easing.*;	//TweenLite.to(mc, 1, {x:46, y:43, scaleX:1, scaleY:1, rotation:0, alpha:1, tint:0x3399ff, ease:Elastic.easeOut, onComplete:FunctionName });			public class LoaderClip extends Sprite	{		private var sequenceClip:MovieClip;		private var loaderBarMC:Sprite;				private var copyTxt:TextField;		private var percTxt:TextField;		private var copy:String;		private var perc:Number;		private var startPerc:Number = 1;		private var callBack:Function;		public function LoaderClip($copy:String, $call:Function)		{			copy = $copy;			callBack = $call;			addEventListener(Event.ADDED_TO_STAGE, onAdded);		}				private function init()		{			copyTxt.htmlText = copy;			addEventListener(Event.ENTER_FRAME, updatePerc);					}				public function closeAction()		{			//this.parent.removeChild(this);			delete this;		}				private function updatePerc(e:Event){									if(perc > 0){				percTxt.text = Math.round(perc)+"%";				var loaded:Number = Number(perc);				startPerc -= Math.ceil((startPerc - loaded)*.1);								loaderBarMC.scaleX = loaded*.01;								var goto:Number = Math.ceil((startPerc*.01)*sequenceClip.totalFrames);								trace(startPerc+" GOTO:"+goto+" totalframes:"+sequenceClip.totalFrames);				sequenceClip.gotoAndStop(goto);								if(perc == 100 && sequenceClip.currentFrame == sequenceClip.totalFrames){ 					removeEventListener(Event.ENTER_FRAME, updatePerc);					callBack();				}			}		}				public function set _perc($loaded:Number){			if(perc != NaN) perc = $loaded;					}				private function onAdded(e:Event)		{			addEventListener(Event.REMOVED_FROM_STAGE, onRemoved);			sequenceClip = getChildByName("sequence") as MovieClip;			loaderBarMC = getChildByName("bar") as Sprite;			loaderBarMC.scaleX = 0.01;			copyTxt = getChildByName("copytxt") as TextField;			percTxt = getChildByName("perctxt") as TextField;			init();		}								private function onRemoved(e:Event)		{					}			}}